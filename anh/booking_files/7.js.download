(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1659:function(e,t,n){"use strict";var r,i=n(38),o=n(606),a=n(110),s=n(33),c=n(7),d=n.n(c),l=n(613),u=n(578),f=n(2),p=n(614),y=n(1660),m=n.n(y);function v(e,t,n,i){r||(r="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=i;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:r,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var g,b=function(e){var t=e.styles,n=e.qualification;return v("span",{className:t.perOccupancyType},void 0," ",v(FormattedMessage,{id:"AddOnPriceBreakdown.label.per".concat(m()(n))}))},h=n(0);function O(e,t,n,r){g||(g="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:g,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var P,w,A=function(e){var t=e.displayPoints,n=e.priceInPoints,r=e.addOnTaxesAndFeesAverageValue,i=e.originalCurrency,o=e.displayCurrency,a=e.isPointsOnly,s=e.originalPrice,c=e.price,d=e.chargeType,y=e.qualification,m=e.styles,v=t&&!!n,g=d===h.Bc.PER_OCCUPANCY_TYPE,_=!c&&!n,P=!_&&!a;return O(Fragment,{},void 0,O(f.a,{condition:v},void 0,O("div",{className:m.pointsPrice},void 0,O(l.a,{pointsClassName:m.value,points:n})),O(f.a,{condition:g&&a},void 0,O(b,{styles:m,qualification:y}))),O(f.a,{condition:v&&!!r},void 0,O("span",{className:m.pointsPriceTaxes},void 0,O(FormattedMessage,{id:"loyalty.label.plusTaxesAndFees",values:{amount:O(FormattedMoney,{originalCurrency:i,value:r,isShoppingPriceAmount:!0,displayCurrency:o})}}))),O(f.a,{condition:!!s},void 0,O(u.a,{className:m.originalPrice,currencyCode:i,price:s,displayCurrency:o,isOriginalPrice:!0,isSlashThrough:!0,fractionDigits:h.k.FRACTION_DIGITS})),O(f.a,{condition:!a},void 0,O(React.Fragment,{},void 0,O(f.a,{condition:v},void 0,O(p.a,{isPointsAndCash:!1,isPointsPriceConjunctionNeeded:!0})," "))),O(f.a,{condition:_},void 0,O("div",{className:m.freeLabel},void 0,O(FormattedMessage,{id:"AddOnPriceBreakdown.label.free"}))),O(f.a,{condition:P},void 0,O(u.a,{className:m.price,currencyCode:i,price:c,displayCurrency:o,isPromoPrice:!!s})),O(f.a,{condition:g&&!a},void 0,O(b,{styles:m,qualification:y})))},k=n(1662),C=n.n(k);function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t,n,r){w||(w="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:w,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function R(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,j(r.key),r)}}function j(e){var t=function(e,t){if("object"!==S(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===S(t)?t:String(t)}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return F}));var F=withStyles(C.a)(P=bindRedux([i.a,o.a,a.a])(P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}(o,Component);var t,n,r,i=D(o);function o(){return R(this,o),i.apply(this,arguments)}return t=o,(n=[{key:"render",value:function(){var e,t=this.props,n=t.addOn,r=t.displayCurrency,i=t.originalCurrency,o=t.confirmationAddon,a=t.configData,c=t.criteria,l=t.custLoyaltyList,u=t.datatest,p=a.collectChildrenAge,y=a.showPricingInclusiveOfTax,m=n.chargeFrequency,v=n.chargeType,g=n.dayRequestRequirement,b=(v===h.Bc.PER_PERSON_OCCUPANCY||v===h.Bc.PER_CHILD_OCCUPANCY)&&p,O=x(FormattedMessage,{id:"AddOnPriceBreakdown.label.day"}),P=x(FormattedMessage,{id:"AddOnPriceBreakdown.label.stay"}),w="/",k=w;m===h.Dc.PER_STAY||v===h.Bc.PER_QUANTITY_NAME?(O="",w=""):g===h.Cc.ONE_DAY&&(P="",k=""),m===h.Dc.PER_NIGHT&&(P="",k=""),v===h.Bc.FLAT||v===h.Bc.PER_OCCUPANCY_TYPE?(e="per",w="",k=""):e=v===h.Bc.PER_PERSON||v===h.Bc.PER_PERSON_OCCUPANCY?"perGuest":v===h.Bc.PER_ROOM?"perRoom":v===h.Bc.PER_ADULT_OCCUPANCY?"perAdult":v===h.Bc.PER_CHILD_OCCUPANCY?"perChild":"each";var S,R,T,N=x("div",{className:C.a.priceType},void 0,x(f.a,{condition:b},void 0,x(FormattedMessage,{id:"AddOnPriceBreakdown.label.average"})," "),x(FormattedMessage,{id:"AddOnPriceBreakdown.label.".concat(e)})," ",w," ",O," ",k," ",P),D=s.q(n,y,c),E=_.get(a,"enablePayByPoints"),I=_.size(l),F=!!E&&!!I,L=Object.keys(D),M=s.g(n,y),B=M?"addOnsThumbCardPrice.text.includingTaxesAndFees":"addOnsThumbCardPrice.text.excludingTaxesAndFees",q=_.get(n,"isPointsOnly");return x("div",{className:d()(C.a.container,(S={},R=C.a.confirmationAddon,T=o,(R=j(R))in S?Object.defineProperty(S,R,{value:T,enumerable:!0,configurable:!0,writable:!0}):S[R]=T,S)),datatest:u},void 0,L.map((function(e,t){var n=y?_.get(D[e],"points")+_.get(D[e],"taxPoints"):_.get(D[e],"points"),o=_.get(D[e],"amount"),a=_.get(D[e],"originalPrice"),s=_.get(D[e],"taxFees");return x("div",{className:C.a.priceWrapper},t,x(A,{addOnTaxesAndFeesAverageValue:M?s:0,chargeType:v,displayCurrency:r,displayPoints:F,index:t,isPointsOnly:q,originalCurrency:i,originalPrice:a,price:o,priceInPoints:n,qualification:e,styles:C.a}))})),N,x("div",{className:C.a.taxesFees},void 0,x(FormattedMessage,{id:B})))}}])&&T(t.prototype,n),r&&T(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}())||P)||P;F.defaultProps={datatest:"addOnsThumbCardPrice"}},1660:function(e,t,n){var r=n(166),i=n(1661);e.exports=function(e){return i(r(e).toLowerCase())}},1661:function(e,t,n){var r=n(949)("toUpperCase");e.exports=r},1662:function(e,t,n){var r=n(1663),i=n(17),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},1663:function(e,t,n){var r=n(16)((function(e){return e[1]}));r.push([e.i,".add-ons-thumb-card-price_pointsPrice::after,.add-ons-thumb-card-price_pointsPriceTaxes::after{display:block;content:'';clear:both}.add-ons-thumb-card-price_container{text-align:right;margin:0 0 1rem 1rem;white-space:nowrap}html[dir=rtl] .add-ons-thumb-card-price_container{text-align:left}html[dir=rtl] .add-ons-thumb-card-price_container{margin:0 1rem 1rem 0}@media (max-width: 767px){.add-ons-thumb-card-price_container{text-align:left;margin:0 0 1rem 0}html[dir=rtl] .add-ons-thumb-card-price_container{text-align:right}html[dir=rtl] .add-ons-thumb-card-price_container{margin:0 0 1rem 0}}.add-ons-thumb-card-price_confirmationAddon{text-align:left;margin:0 0 0 0;white-space:unset}html[dir=rtl] .add-ons-thumb-card-price_confirmationAddon{text-align:right}html[dir=rtl] .add-ons-thumb-card-price_confirmationAddon{margin:0 0 0 0}.add-ons-thumb-card-price_priceWrapper{display:block}.add-ons-thumb-card-price_pointsPrice{color:/@message.success.color@|@lotaltyPoints.color@/;line-height:1}.add-ons-thumb-card-price_pointsPrice .add-ons-thumb-card-price_value{font-size:1.3rem;font-weight:/@font.bold@|@lotaltyPoints.fontWeight@/}.add-ons-thumb-card-price_pointsPriceTaxes{font-size:/@font.smallerSize@/;color:/@font.colorLight@/}.add-ons-thumb-card-price_price,.add-ons-thumb-card-price_freeLabel{display:inline-block;font-size:1.3rem;font-weight:/@font.bold@/;text-decoration:none}.add-ons-thumb-card-price_price .add-ons-thumb-card-price_loyaltyOr,.add-ons-thumb-card-price_freeLabel .add-ons-thumb-card-price_loyaltyOr{font-size:/@font.smallerSize@/;font-weight:/@font.normalWeight@/}.add-ons-thumb-card-price_freeLabel{color:/@message.success.color@/}.add-ons-thumb-card-price_perOccupancyType,.add-ons-thumb-card-price_priceType{font-size:/@font.smallerSize@/}.add-ons-thumb-card-price_taxesFees{color:/@font.colorLight@/;font-size:/@font.smallerSize@/}.add-ons-thumb-card-price_originalPrice{display:block;font-weight:/@font.normalWeight@/;font-size:/@font.smallerSize@/;color:/@font.colorLight@/;text-decoration:line-through;line-height:1}\n",""]),r.locals={pointsPrice:"add-ons-thumb-card-price_pointsPrice",pointsPriceTaxes:"add-ons-thumb-card-price_pointsPriceTaxes",container:"add-ons-thumb-card-price_container",confirmationAddon:"add-ons-thumb-card-price_confirmationAddon",priceWrapper:"add-ons-thumb-card-price_priceWrapper",value:"add-ons-thumb-card-price_value",price:"add-ons-thumb-card-price_price",freeLabel:"add-ons-thumb-card-price_freeLabel",loyaltyOr:"add-ons-thumb-card-price_loyaltyOr",perOccupancyType:"add-ons-thumb-card-price_perOccupancyType",priceType:"add-ons-thumb-card-price_priceType",taxesFees:"add-ons-thumb-card-price_taxesFees",originalPrice:"add-ons-thumb-card-price_originalPrice"},e.exports=r},1681:function(e,t,n){"use strict";var r=n(0);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,a=void 0,a=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===i(a)?a:String(a)),r)}var o,a}function a(e,t){return(a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(e,t){if(t&&("object"===i(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(l,Component);var t,n,i,c=s(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=c.call(this,e)).isMobileSize=function(){return window.innerWidth<=r.oe.TABLET_VIEW},t.isTabletSize=function(){return r.oe.TABLET_VIEW<window.innerWidth&&window.innerWidth<=r.oe.DESKTOP_VIEW},t.state={isMobileView:e.deviceTypeInfo.isMobile||t.isMobileSize(),isTabletView:e.deviceTypeInfo.isTablet||t.isTabletSize()},t.handleResize=t.handleResize.bind(d(t)),t}return t=l,(n=[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){var e=this;_.cond([[function(){return!1},function(){}],[function(){return window.innerWidth<=r.oe.TABLET_VIEW},function(){return e.setState({isMobileView:!0,isTabletView:!1})}],[function(){return window.innerWidth>r.oe.TABLET_VIEW&&window.innerWidth<=r.oe.DESKTOP_VIEW},function(){return e.setState({isMobileView:!1,isTabletView:!0})}],[function(){return!0},function(){return e.setState({isMobileView:!1,isTabletView:!1})}]])()}},{key:"render",value:function(){return this.props.children(this.state.isMobileView,this.state.isTabletView)}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(),f=bindRedux([function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{deviceTypeInfo:_.get(e,"app.deviceTypeInfo","")}}],[])(u);t.a=f},1727:function(e,t,n){var r=n(1728),i=n(17),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},1728:function(e,t,n){var r=n(16)((function(e){return e[1]}));r.push([e.i,".add-ons-occupancy-selection_wrapper{margin:0 0 2rem}.add-ons-occupancy-selection_wrapper .quantity-selection_container{display:block;width:100%;padding-bottom:1rem}.add-ons-occupancy-selection_wrapper .quantity-selection_wrapper{width:100%;max-width:100%;min-width:120px}.add-ons-occupancy-selection_selectionWrapper{display:table}.add-ons-occupancy-selection_selection{display:table-row}.add-ons-occupancy-selection_selection:last-child{margin-bottom:0}.add-ons-occupancy-selection_perASC{display:table-cell;vertical-align:middle;padding-bottom:1rem}.add-ons-occupancy-selection_perASC small{display:block}.add-ons-occupancy-selection_perASC:empty{display:none}@media (max-width: 767px){.add-ons-occupancy-selection_perASC{display:block;line-height:/@font.lineHeight@/;padding:0;margin-bottom:0.5rem}}.add-ons-occupancy-selection_perASC+.quantity-selection_container{display:table-cell;vertical-align:middle;width:auto}\n",""]),r.locals={wrapper:"add-ons-occupancy-selection_wrapper",selectionWrapper:"add-ons-occupancy-selection_selectionWrapper",selection:"add-ons-occupancy-selection_selection",perASC:"add-ons-occupancy-selection_perASC"},e.exports=r},1729:function(e,t,n){var r=n(1730),i=n(17),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},1730:function(e,t,n){var r=n(16)((function(e){return e[1]}));r.push([e.i,".add-ons-quantity-selection_wrapper{margin:0 0 2rem}.add-ons-quantity-selection_wrapper .quantity-selection_container{display:block}.add-ons-quantity-selection_wrapper .quantity-selection_container>span{display:block;margin-bottom:.5rem}.add-ons-quantity-selection_wrapper .quantity-selection_wrapper{width:100%;max-width:100%}\n",""]),r.locals={wrapper:"add-ons-quantity-selection_wrapper"},e.exports=r},1731:function(e,t,n){var r=n(1732),i=n(17),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},1732:function(e,t,n){var r=n(16)((function(e){return e[1]}));r.push([e.i,".add-ons-date-selection_wrapper{margin:0 0 2rem}.add-ons-date-selection_wrapper>span{display:block;margin-bottom:.5rem}.add-ons-date-selection_carousel{width:100%}.add-ons-date-selection_carousel .slick-list{padding:3px 0}.add-ons-date-selection_available,.add-ons-date-selection_disabled,.add-ons-date-selection_selected{width:calc(100% - 8px) !important;display:block;padding:0.5rem 0;margin:0 3px;text-align:center;border:1px solid /@border.color.style2@/;border-radius:/@border.radius@/}.add-ons-date-selection_available:focus,.add-ons-date-selection_disabled:focus,.add-ons-date-selection_selected:focus{outline:3px solid /@font.colorLight@/}.add-ons-date-selection_selected{background:/@background.style3@/;color:/@font.colorAlternate@/}.add-ons-date-selection_disabled{background:/@background.style2@/;color:/@font.colorLight@/}.add-ons-date-selection_available{cursor:pointer;background:/@background.style1@/;color:/@font.color@/}.add-ons-date-selection_day{display:block;text-transform:uppercase}.add-ons-date-selection_date{display:block}.add-ons-date-selection_carouselLeft,.add-ons-date-selection_carouselRight{position:absolute;top:50%;cursor:pointer;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.add-ons-date-selection_carouselLeft::before,.add-ons-date-selection_carouselRight::before{font-size:30px}html[dir=ltr] .add-ons-date-selection_carouselLeft::before,html[dir=ltr] .add-ons-date-selection_carouselRight::before{margin-right:0}html[dir=rtl] .add-ons-date-selection_carouselLeft::before,html[dir=rtl] .add-ons-date-selection_carouselRight::before{margin-left:0}html[dir=ltr] .add-ons-date-selection_carouselLeft{left:0}html[dir=rtl] .add-ons-date-selection_carouselLeft{right:0}.add-ons-date-selection_carouselLeft::before{display:inline-block;line-height:1em;font-family:'spark-icon-line';font-size:1em;vertical-align:baseline;font-weight:normal;content:\"\\F110\"}html[dir=ltr] .add-ons-date-selection_carouselLeft::before{margin-right:.25em}html[dir=rtl] .add-ons-date-selection_carouselLeft::before{margin-left:.25em}html[dir=rtl] .add-ons-date-selection_carouselLeft::before{display:inline-block;line-height:1em;font-family:'spark-icon-line';font-size:1em;vertical-align:baseline;font-weight:normal;content:\"\\F111\"}html[dir=ltr] html[dir=rtl] .add-ons-date-selection_carouselLeft::before{margin-right:.25em}html[dir=rtl] html[dir=rtl] .add-ons-date-selection_carouselLeft::before{margin-left:.25em}html[dir=ltr] .add-ons-date-selection_carouselRight{right:0}html[dir=rtl] .add-ons-date-selection_carouselRight{left:0}.add-ons-date-selection_carouselRight::before{display:inline-block;line-height:1em;font-family:'spark-icon-line';font-size:1em;vertical-align:baseline;font-weight:normal;content:\"\\F111\"}html[dir=ltr] .add-ons-date-selection_carouselRight::before{margin-right:.25em}html[dir=rtl] .add-ons-date-selection_carouselRight::before{margin-left:.25em}html[dir=rtl] .add-ons-date-selection_carouselRight::before{display:inline-block;line-height:1em;font-family:'spark-icon-line';font-size:1em;vertical-align:baseline;font-weight:normal;content:\"\\F110\"}html[dir=ltr] html[dir=rtl] .add-ons-date-selection_carouselRight::before{margin-right:.25em}html[dir=rtl] html[dir=rtl] .add-ons-date-selection_carouselRight::before{margin-left:.25em}\n",""]),r.locals={wrapper:"add-ons-date-selection_wrapper",carousel:"add-ons-date-selection_carousel",available:"add-ons-date-selection_available",disabled:"add-ons-date-selection_disabled",selected:"add-ons-date-selection_selected",day:"add-ons-date-selection_day",date:"add-ons-date-selection_date",carouselLeft:"add-ons-date-selection_carouselLeft",carouselRight:"add-ons-date-selection_carouselRight"},e.exports=r},1733:function(e,t,n){var r=n(1734),i=n(17),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},1734:function(e,t,n){var r=n(16)((function(e){return e[1]}));r.push([e.i,".add-ons-time-slot_wrapper{margin:0 0 2rem}.add-ons-time-slot_wrapper>span{display:block;margin-bottom:.5rem}\n",""]),r.locals={wrapper:"add-ons-time-slot_wrapper"},e.exports=r},1735:function(e,t,n){var r=n(1736),i=n(17),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},1736:function(e,t,n){var r=n(16)((function(e){return e[1]}));r.push([e.i,".add-on-price-breakdown_pointsPrice::after,.add-on-price-breakdown_pointsPriceTaxes::after,.add-on-price-breakdown_breakdown::after{display:block;content:'';clear:both}.add-on-price-breakdown_wrapper{margin-bottom:1rem;text-align:right}html[dir=rtl] .add-on-price-breakdown_wrapper{text-align:left}@media (max-width: 767px){.add-on-price-breakdown_wrapper{text-align:left}html[dir=rtl] .add-on-price-breakdown_wrapper{text-align:right}}.add-on-price-breakdown_total{font-size:1.2rem;font-weight:/@font.bold@/}.add-on-price-breakdown_pointsPrice{color:/@message.success.color@|@lotaltyPoints.color@/;line-height:1}.add-on-price-breakdown_pointsPrice .add-on-price-breakdown_value{font-size:1.2rem;font-weight:/@font.bold@|@lotaltyPoints.fontWeight@/}html[dir=ltr] .add-on-price-breakdown_pointsPrice .add-on-price-breakdown_value{padding-left:0}html[dir=rtl] .add-on-price-breakdown_pointsPrice .add-on-price-breakdown_value{padding-right:0}.add-on-price-breakdown_pointsPriceTaxes{font-size:/@font.smallerSize@/;color:/@font.colorLight@/}.add-on-price-breakdown_price{font-size:1.2rem;font-weight:/@font.bold@/}.add-on-price-breakdown_price .add-on-price-breakdown_loyaltyOr{font-size:/@font.smallerSize@/;font-weight:/@font.normalWeight@/}.add-on-price-breakdown_taxIncluded{color:/@font.colorLight@/;font-size:/@font.smallerSize@/}.add-on-price-breakdown_detailsLink{display:block}.add-on-price-breakdown_breakdown{margin-top:1rem;font-size:/@font.smallerSize@/}.add-on-price-breakdown_expanded{display:inline-block}@media (max-width: 767px){.add-on-price-breakdown_expanded{display:block}}.add-on-price-breakdown_hidden{display:none}.add-on-price-breakdown_detailedPrice,.add-on-price-breakdown_taxesAndFees{display:flex;justify-content:space-between;text-align:left}html[dir=rtl] .add-on-price-breakdown_detailedPrice,html[dir=rtl] .add-on-price-breakdown_taxesAndFees{text-align:right}.add-on-price-breakdown_value{text-align:right}html[dir=rtl] .add-on-price-breakdown_value{text-align:left}html[dir=ltr] .add-on-price-breakdown_value{padding-left:1rem}html[dir=rtl] .add-on-price-breakdown_value{padding-right:1rem}.add-on-price-breakdown_valueInPoints .add-on-price-breakdown_value{font-weight:/@font.bold@|@lotaltyPoints.fontWeight@/}.add-on-price-breakdown_valueInPoints{color:/@message.success.color@|@lotaltyPoints.color@/}\n",""]),r.locals={pointsPrice:"add-on-price-breakdown_pointsPrice",pointsPriceTaxes:"add-on-price-breakdown_pointsPriceTaxes",breakdown:"add-on-price-breakdown_breakdown",wrapper:"add-on-price-breakdown_wrapper",total:"add-on-price-breakdown_total",value:"add-on-price-breakdown_value",price:"add-on-price-breakdown_price",loyaltyOr:"add-on-price-breakdown_loyaltyOr",taxIncluded:"add-on-price-breakdown_taxIncluded",detailsLink:"add-on-price-breakdown_detailsLink",expanded:"add-on-price-breakdown_expanded",hidden:"add-on-price-breakdown_hidden",detailedPrice:"add-on-price-breakdown_detailedPrice",taxesAndFees:"add-on-price-breakdown_taxesAndFees",valueInPoints:"add-on-price-breakdown_valueInPoints"},e.exports=r},1737:function(e,t,n){var r=n(1738),i=n(17),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},1738:function(e,t,n){var r=n(16)((function(e){return e[1]}));r.push([e.i,".add-ons-details_container{border-top:1px solid /@border.color.style1@/;padding:2rem 1rem .5rem 2rem}html[dir=rtl] .add-ons-details_container{padding:2rem 2rem .5rem 1rem}@media (max-width: 767px){.add-ons-details_container{padding:1rem}}.add-ons-details_left,.add-ons-details_right{width:calc(50% - 3rem);display:inline-block;vertical-align:top}html[dir=ltr] .add-ons-details_left,html[dir=ltr] .add-ons-details_right{margin-right:3rem}html[dir=rtl] .add-ons-details_left,html[dir=rtl] .add-ons-details_right{margin-left:3rem}@media (max-width: 767px){.add-ons-details_left,.add-ons-details_right{width:auto;display:block}html[dir=ltr] .add-ons-details_left,html[dir=ltr] .add-ons-details_right{margin-right:0}html[dir=rtl] .add-ons-details_left,html[dir=rtl] .add-ons-details_right{margin-left:0}}.add-ons-details_messages{display:flex;justify-content:flex-end}\n",""]),r.locals={container:"add-ons-details_container",left:"add-ons-details_left",right:"add-ons-details_right",messages:"add-ons-details_messages"},e.exports=r},1739:function(e,t,n){var r=n(1740),i=n(17),o="string"==typeof r?[[e.i,r,""]]:r;(t=e.exports=r.locals||{})._getContent=function(){return o},t._getCss=function(){return""+r},t._insertCss=function(e){return i(o,e)}},1740:function(e,t,n){var r=n(16)((function(e){return e[1]}));r.push([e.i,".add-ons-container_section{padding-bottom:2rem}.add-ons-container_group{margin-bottom:1rem;background:/@background.style2@/;border:1px solid /@border.color.style2@/;border-radius:/@border.radius@/;padding-top:1rem}.add-ons-container_additionalPackages{border:1px solid /@background.style3@/;padding-top:0}.add-ons-container_additionalPackagesHeading{background:/@background.style3@/;padding:1rem;margin-bottom:1rem}.add-ons-container_additionalPackagesHeading>h2{color:/@font.colorAlternate@/}.add-ons-container_requiredGroup{border:1px solid /@message.success.color@/;padding-top:0}.add-ons-container_requiredGroupWarning{border:1px solid /@message.warning.color@/;padding-top:0}.add-ons-container_categoryGroup{padding:0 1rem}.add-ons-container_categoryGroup>h2,.add-ons-container_categoryGroup>h3{margin-bottom:1rem}.add-ons-container_addOn{background:/@background.style1@/;border:1px solid /@border.color.style1@/;border-radius:/@border.radius@/;margin-bottom:1rem}.add-ons-container_bookDirectBenefit{padding:1rem 1rem 0}.add-ons-container_addOnheader{display:-webkit-flex;display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row}@media (max-width: 767px){.add-ons-container_addOnheader{display:block}}.add-ons-container_addOnImgWrapper{width:35%;padding:1rem}@media (max-width: 767px){.add-ons-container_addOnImgWrapper{width:100%;padding:0}}.add-ons-container_addOnImage{width:100%;padding-bottom:66.66%;border-radius:/@border.radius@/;background-position:center;background-size:cover;background-repeat:no-repeat}@media (max-width: 767px){.add-ons-container_addOnImage{border-bottom-right-radius:0;border-bottom-left-radius:0}}.add-ons-container_addOnInfo{width:65%;padding:1rem 1rem 1rem 0;display:-webkit-flex;display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-direction:column;-webkit-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between}html[dir=rtl] .add-ons-container_addOnInfo{padding:1rem 0 1rem 1rem}.add-ons-container_addOnInfo:first-child{width:100%;padding:1rem 1rem 1rem 1rem}html[dir=rtl] .add-ons-container_addOnInfo:first-child{padding:1rem 1rem 1rem 1rem}@media (max-width: 767px){.add-ons-container_addOnInfo{width:auto;padding:1rem 1rem 1rem 1rem}html[dir=rtl] .add-ons-container_addOnInfo{padding:1rem 1rem 1rem 1rem}}.add-ons-container_addOnInfoTop{display:-webkit-flex;display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap}@media (max-width: 767px){.add-ons-container_addOnInfoTop{display:block}}.add-ons-container_addOnDetails{display:block}.add-ons-container_addOnDetails h3,.add-ons-container_addOnDetails h4{margin-bottom:1rem}.add-ons-container_addOnDescription,.add-ons-container_viewMoreButton{margin-bottom:1rem}.add-ons-container_addOnPolicies{margin-bottom:1rem}.add-ons-container_addOnPolicies h4,.add-ons-container_addOnPolicies h5{margin-bottom:1rem}.add-ons-container_addOnBookingPolicy,.add-ons-container_addOnCancelPolicy{margin-bottom:0.5rem}.add-ons-container_addOnUrl{display:inline-block;margin-bottom:1rem}.add-ons-container_addOnInfoBottom{text-align:right}html[dir=rtl] .add-ons-container_addOnInfoBottom{text-align:left}@media (max-width: 767px){.add-ons-container_addOnInfoBottom button{display:block;width:100%}}.add-ons-container_rightContinue{margin-top:1rem}@media (max-width: 1024px){.add-ons-container_rightContinue{display:none}}.add-ons-container_bottomContinue{text-align:right}html[dir=rtl] .add-ons-container_bottomContinue{text-align:left}@media (max-width: 767px){.add-ons-container_bottomContinue{display:none}}\n",""]),r.locals={section:"add-ons-container_section",group:"add-ons-container_group",additionalPackages:"add-ons-container_additionalPackages",additionalPackagesHeading:"add-ons-container_additionalPackagesHeading",requiredGroup:"add-ons-container_requiredGroup",requiredGroupWarning:"add-ons-container_requiredGroupWarning",categoryGroup:"add-ons-container_categoryGroup",addOn:"add-ons-container_addOn",bookDirectBenefit:"add-ons-container_bookDirectBenefit",addOnheader:"add-ons-container_addOnheader",addOnImgWrapper:"add-ons-container_addOnImgWrapper",addOnImage:"add-ons-container_addOnImage",addOnInfo:"add-ons-container_addOnInfo",addOnInfoTop:"add-ons-container_addOnInfoTop",addOnDetails:"add-ons-container_addOnDetails",addOnDescription:"add-ons-container_addOnDescription",viewMoreButton:"add-ons-container_viewMoreButton",addOnPolicies:"add-ons-container_addOnPolicies",addOnBookingPolicy:"add-ons-container_addOnBookingPolicy",addOnCancelPolicy:"add-ons-container_addOnCancelPolicy",addOnUrl:"add-ons-container_addOnUrl",addOnInfoBottom:"add-ons-container_addOnInfoBottom",rightContinue:"add-ons-container_rightContinue",bottomContinue:"add-ons-container_bottomContinue"},e.exports=r},1949:function(e,t,n){"use strict";n.r(t);var r,i,o=n(8),a=n(1682),s=n(616),c=n(42),d=n(5),l=n(9),u=n(61),f=n(64),p=n(134),y=n(80),m=n(53),v=n(77),g=n(606),b=n(93),h=n(111),O=n(381),P=n(607),w=n(33),A=n(10),k=n(377),C=n(14),S=n(2),x=n(1),R=n(58),T=n(612),j=n(83),N=n(0),D=n(72),E=n(1727),I=n.n(E);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),c=0;c<a;c++)s[c]=arguments[c+3];t.children=s}if(t&&o)for(var d in o)void 0===t[d]&&(t[d]=o[d]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return(t=z(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function z(e){var t=function(e,t){if("object"!==F(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===F(t)?t:String(t)}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var i=H(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){if(t&&("object"===F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Y=withStyles(I.a)(r=bindRedux([],[{displayAccessibilityNotification:u.displayAccessibilityNotification}])(r=injectIntl(r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(o,Component);var t,n,r,i=G(o);function o(){var e;U(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).incrementValue=function(t){var n=e.props.currentSelection,r=_.get(n,[t,"quantity"]);e.updateOccupantDetails(t,r+1)},e.decrementValue=function(t){var n=e.props.currentSelection,r=_.get(n,[t,"quantity"]);e.updateOccupantDetails(t,r-1)},e}return t=o,(n=[{key:"updateOccupantDetails",value:function(e,t){var n=this.props,r=n.currentSelection,i=n.maxQuantity,o=n.minQuantity,a=n.updateQuantity,s=n.actions.displayAccessibilityNotification,c=n.addOnName,d=_.get(r,[e]);if(!isNaN(t)&&i>=t&&t>=o){a(B(B({},r),{},q({},e,B(B({},d),{},{quantity:t}))));var l=this.getAgeQualifyingCodeLabel(e);s({id:"accessibility.addOnCountPerGuestUpdated"},{addOnName:Object(D.e)(c),value:t,guestType:l})}else a(B({},r))}},{key:"getAgeQualifyingCodeLabel",value:function(e){var t=_.toLower(e);return this.props.intl.formatMessage({id:"ageQualifyingCode.label.".concat(t),defaultMessage:"ageQualifyingCode.label.".concat(t)})}},{key:"getOccupantAgeRange",value:function(e){return e.EndAge?L(FormattedMessage,{id:"addOnsOccupancySelection.label.ageRangeWithUpperLimit",values:{ageGroup:this.getAgeQualifyingCodeLabel(e.AgeQualifyingCode),endAge:e.EndAge,startAge:e.StartAge?e.StartAge:"0"}}):L(FormattedMessage,{id:"addOnsOccupancySelection.label.ageRangeWithoutUpperLimit",values:{ageGroup:this.getAgeQualifyingCodeLabel(e.AgeQualifyingCode),startAge:e.StartAge?e.StartAge:"0"}})}},{key:"getGuestOrderByAgeGroup",value:function(){var e=_.get(this.props,["selectedDate","PriceList"],[]);return[N.Db.ADULT,N.Db.CHILD,N.Db.SENIOR].reduce((function(t,n){var r=e.find((function(e){return e.AgeQualifyingCode===n}));return r&&t.push(r),t}),[])}},{key:"_renderAmount",value:function(e){var t=this.props,n=t.isPointsOnly,r=t.originalCurrency,i=t.displayCurrency,o=t.showPricingInclusiveOfTax,a=t.currentSelection,s=_.toLower(_.get(e,"AgeQualifyingCode","")),c=_.get(a,s,{}),d=o?_.get(c,"averageAmountWithTaxesFees",0):_.get(c,"averageAmount",0),l=_.get(c,"averagePoints",0);return n?L(j.a,{hidePrice:!0,points:l}):l&&d?L(j.a,{price:d,points:l,originalCurrency:r,displayCurrency:i}):Object(x.pb)(d,r,i,!0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.intl.formatMessage,r=t.currentSelection,i=this.getGuestOrderByAgeGroup();return L("div",{className:I.a.wrapper},void 0,L("div",{className:I.a.selectionWrapper},void 0,i.map((function(t){var i=t.AgeQualifyingCode,o=_.toLower(i),a=n({id:"addOnsOccupancySelection.ariaLabel.add"},{type:o}),s=n({id:"addOnsOccupancySelection.ariaLabel.remove"},{type:o});return L("div",{className:I.a.selection,"data-occupancy-type":t.AgeQualifyingCode},t.AgeQualifyingCode,L("span",{className:I.a.perASC},void 0,e.getOccupantAgeRange(t),L("small",{},void 0,e._renderAmount(t))),L(T.a,{title:e.props.intl.formatMessage({id:"addOnsOccupancySelection.label.selectTheNumberOfGuests"}),inputLabel:o,currentValue:_.get(r,[o,"quantity"]),increment:function(){return e.incrementValue(o)},decrement:function(){return e.decrementValue(o)},addButtonAriaLabel:a,removeButtonAriaLabel:s,change:function(t){return e.updateOccupantDetails(o,t)}}))}))))}}])&&W(t.prototype,n),r&&W(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}())||r)||r)||r;Y.defaultProps={intl:{formatMessage:function(){}}};var V,K,X=n(1729),J=n.n(X);function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t,n,r){K||(K="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:K,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){re(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function re(e,t,n){return(t=ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ae(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}function se(e,t){return(se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ce(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=le(e);if(t){var i=le(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ue,fe,pe=withStyles(J.a)(V=bindRedux([],[{displayAccessibilityNotification:u.displayAccessibilityNotification}])(V=injectIntl(V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&se(e,t)}(o,Component);var t,n,r,i=ce(o);function o(){var e;ie(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).incrementValue=function(t){var n=e.props.currentSelection,r=_.get(n,[_.head(t),"quantity"]);e.changeQuantity(t,r+1)},e.decrementValue=function(t){var n=e.props.currentSelection,r=_.get(n,[_.head(t),"quantity"]);e.changeQuantity(t,r-1)},e}return t=o,(n=[{key:"changeQuantity",value:function(e,t){var n=this.props,r=n.addOn,i=n.currentSelection,o=n.maxQuantity,a=n.minQuantity,s=n.updateQuantity,c=n.actions;if(!isNaN(t)&&o>=t&&t>=a){var d=r.chargeType===N.Bc.PER_PERSON?"accessibility.addOnGuestCountUpdated":"accessibility.addOnCountUpdated",l=e.reduce((function(e,n){var r=_.get(i,[n]);return ne(ne({},e),{},re({},n,ne(ne({},r),{},{quantity:t})))}),{});s(ne(ne({},i),l)),c.displayAccessibilityNotification({id:d},{addOnName:Object(D.e)(r.name),value:t})}else s(ne({},i))}},{key:"render",value:function(){var e=this,t=this.props,n=t.intl.formatMessage,r=t.addOn,i=t.currentSelection,o=t.quantityName,a=r.chargeType,s=_.toLower(N.Db.ADULT),c=_.toLower(N.Db.CHILD),d=_.cond([[function(){return a===N.Bc.PER_PERSON_OCCUPANCY},function(){return[s,c]}],[function(){return[N.Bc.PER_ROOM,N.Bc.PER_ADULT_OCCUPANCY,N.Bc.PER_QUANTITY_NAME,N.Bc.PER_PERSON].includes(a)},function(){return[s]}],[function(){return a===N.Bc.PER_CHILD_OCCUPANCY},function(){return[c]}]])(),l=a===N.Bc.PER_PERSON,u=l?"addOnsOccupancySelection.label.selectTheNumberOfGuests":"addOnsQuantitySelection.label.selectTheNumberOfItems",f=n(l?{id:"addOnsOccupancySelection.ariaLabel.numberOfGuests"}:{id:"addOnsQuantitySelection.ariaLabel.numberOfItems"}),p=o||f,y=n({id:"addOnsQuantitySelection.ariaLabel.increase"},{type:p}),m=n({id:"addOnsQuantitySelection.ariaLabel.decrease"},{type:p}),v=this.props.intl.formatMessage({id:u});return ee("div",{className:J.a.wrapper},void 0,ee(T.a,{title:v,inputLabel:p,currentValue:_.get(i,[d[0],"quantity"]),increment:function(){return e.incrementValue(d)},decrement:function(){return e.decrementValue(d)},change:function(t){return e.changeQuantity(d,t)},id:"".concat(r.code,"-quantity"),addButtonAriaLabel:y,removeButtonAriaLabel:m,quantityName:o}))}}])&&oe(t.prototype,n),r&&oe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}())||V)||V)||V,ye=n(922),me=n(15),ve=n(1731),ge=n.n(ve);function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t,n,r){fe||(fe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:fe,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==be(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==be(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===be(o)?o:String(o)),r)}var i,o}function Pe(e,t){return(Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ke(e);if(t){var i=ke(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){if(t&&("object"===be(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ce,Se,xe=withStyles(ge.a)(ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(o,Component);var t,n,r,i=we(o);function o(){var e;Oe(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={activeAndAvailableDates:[]},e.setActiveAndAvailableDates=function(t){e.setState((function(e){if(!_.isEqual(e.activeAndAvailableDates,t))return{activeAndAvailableDates:t}}))},e}return t=o,(n=[{key:"onDateClick",value:function(e){e.isAvailable&&e.isActive&&this.props.onChange(this.getSelectedDate(e.date))}},{key:"onDateKeyDown",value:function(e,t,n,r){e.keyCode!==N.ac.ENTER&&e.keyCode!==N.ac.SPACE||this.onDateClick(t),e.keyCode===N.ac.LEFT_ARROW&&n.isAvailable&&n.isActive&&this.props.onChange(this.getSelectedDate(n.date)),e.keyCode===N.ac.RIGHT_ARROW&&r.isAvailable&&r.isActive&&this.props.onChange(this.getSelectedDate(r.date))}},{key:"createDateRange",value:function(){var e=this,t=this.getDatesRange(),n=this.props,r=n.selectedDate,i=n.intl.formatMessage,o=r&&Object(me.g)(r.StartDate),a=i({id:"addOnsDateSelection.label.selected"});return t.map((function(t,n,r){var i=t.date,s=o&&i.getTime()===o.getTime(),c=_.get(r,"[".concat(n-1,"]"),r[n]),d=_.get(r,"[".concat(n+1,"]"),r[n]);return he("button",{className:s?ge.a.selected:t.isAvailable?ge.a.available:ge.a.disabled,onClick:function(){return e.onDateClick(t)},onKeyDown:function(n){return e.onDateKeyDown(n,t,c,d)}},i.toDateString(),s&&he("span",{className:"sr-only"},void 0,a),he("span",{className:ge.a.day+" app_bold app_small"},void 0,he(FormattedDate,{value:i,weekday:"short"})),he("span",{className:ge.a.date},void 0,i.getDate()))}))}},{key:"getSelectedDate",value:function(e){return this.props.availableDates.find((function(t){return Object(me.g)(t.StartDate).getTime()===e.getTime()}))}},{key:"getDatesRange",value:function(){var e=this,t=this.props,n=t.startDate,r=t.endDate;return Object(me.b)(n,r).map((function(t){var n={date:t,isAvailable:!1,isActive:!1};return e.isDateAvailable(t)&&(n.isAvailable=!0),e.isDateActive(t)&&(n.isActive=!0),n}))}},{key:"isDateActive",value:function(e){return this.state.activeAndAvailableDates.includes(e.getDate())}},{key:"isDateAvailable",value:function(e){return this.props.availableDates.find((function(t){var n=Object(me.g)(t.StartDate);return e.getTime()===n.getTime()}))}},{key:"render",value:function(){return he("div",{className:ge.a.wrapper},void 0,he(FormattedMessage,{id:"packageDateRange.header.selectTheDateForYourService",defaultMessage:"##packageDateRange.header.selectTheDateForYourService##"}),he("div",{className:ge.a.carousel},void 0,he(ye.a,{showMultipleSlides:!0,showArrowsOutside:!0,setActiveAndAvailableDates:this.setActiveAndAvailableDates,enableAccesability:!1},void 0,this.createDateRange())))}}])&&_e(t.prototype,n),r&&_e(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}())||ue,Re=injectIntl(xe),Te=n(107),je=n(1733),Ne=n.n(je);function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t,n,r){Se||(Se="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:Se,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Ie(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==De(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===De(o)?o:String(o)),r)}var i,o}function Le(e,t){return(Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var i=qe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Be(this,n)}}function Be(e,t){if(t&&("object"===De(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ue,We=withStyles(Ne.a)(Ce=injectIntl(Ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(o,Component);var t,n,r,i=Me(o);function o(){var e;Ie(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).handleChange=function(t){return e.props.onSelect(t.key)},e}return t=o,(n=[{key:"createTimeSlot",value:function(){var e=this.props,t=e.selectedTimeSlot,n=defineMessages({time:{id:"addOnsTimeSlot.placeHolder.time",defaultMessage:"##addOnsTimeSlot.placeHolder.time##"}});return Ee(Te.a,{isDifferentKeyValue:!1,id:"add-ons-time-slot-select",label:e.intl.formatMessage(n.time),onChange:this.handleChange,options:e.timeslot,selected:t,hasValue:!!t,hideSelectedItem:!1})}},{key:"render",value:function(){return Ee("div",{className:Ne.a.wrapper},void 0,Ee(FormattedMessage,{id:"addOnsTimeSlot.label.selectTheTimeForYourService",defaultMessage:"##addOnsTimeSlot.label.selectTheTimeForYourService##"}),this.createTimeSlot())}}])&&Fe(t.prototype,n),r&&Fe(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}())||Ce)||Ce;function ze(e,t,n,r){Ue||(Ue="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:Ue,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Qe,Ge=function(e){var t=e.addOnPointsBaseTotal,n=e.styles;return ze("div",{className:n.detailedPrice},void 0,ze(FormattedMessage,{id:"loyalty.label.totalPoints"}),ze("div",{className:n.value},void 0,ze(j.a,{hidePrice:!0,points:t})))};function $e(e,t,n,r){Qe||(Qe="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:Qe,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var He,Ye=function(e){var t=e.ageCodeDisplay,n=e.displayCurrency,r=e.displayNightPriceMultiplier,i=e.multiply,o=e.numberOfNightsDisplay,a=e.originalCurrency,s=e.quantity,c=e.singleQuantityPrice,d=e.styles,l=e.totalPrice;return $e("div",{className:d.detailedPrice},void 0,$e("div",{},void 0,Object(x.pb)(c,a,n),i,$e(FormattedMessage,{id:t,values:{numberOfGuests:s}}),$e(S.a,{condition:r},void 0,o)),$e("div",{className:d.value},void 0,Object(x.pb)(l,a,n)))};function Ve(e,t,n,r){He||(He="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:He,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Ke,Xe=function(e){var t=e.addOnBaseTotal,n=e.displayCurrency,r=e.displayNightPriceMultiplier,i=e.numberOfNightsDisplay,o=e.originalCurrency,a=e.singleQuantityPrice,s=e.styles;return Ve("div",{className:s.detailedPrice},void 0,Ve("div",{},void 0,Ve(S.a,{condition:!r},void 0,Ve(FormattedMessage,{id:"AddOnPriceBreakdown.label.Package"})),Ve(S.a,{condition:r},void 0,Object(x.pb)(a,o,n),i)),Ve("div",{className:s.value},void 0,Object(x.pb)(t,o,n)))};function Je(e,t,n,r){Ke||(Ke="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:Ke,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var Ze,et=function(e){var t=e.addOnBaseTotal,n=e.displayCurrency,r=e.displayNightPriceMultiplier,i=e.multiply,o=e.numberOfNightsDisplay,a=e.originalCurrency,s=e.quantity,c=e.quantityName,d=e.singleQuantityPrice,l=e.styles;return Je("div",{className:l.detailedPrice},void 0,Je("div",{},void 0,Object(x.pb)(d,a,n,!0),Je(S.a,{condition:r},void 0,o),i,s||0,Je("span",{},void 0," ".concat(c))),Je("div",{className:l.value},void 0,Object(x.pb)(t,a,n)))};function tt(e,t,n,r){Ze||(Ze="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:Ze,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var nt,rt=function(e){var t=e.addOnBaseTotal,n=e.displayCurrency,r=e.displayNightPriceMultiplier,i=e.multiply,o=e.numberOfNightsDisplay,a=e.isPerOccupancyCount,s=e.originalCurrency,c=e.perCountLabel,d=e.quantity,l=e.styles;return tt("div",{className:l.detailedPrice},void 0,tt("div",{},void 0,tt(S.a,{condition:r},void 0,o),c,tt(S.a,{condition:a},void 0,i,d)),tt("div",{className:l.value},void 0,Object(x.pb)(t,s,n)))};function it(e,t,n,r){nt||(nt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:nt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ot,at=function(e){var t=e.chargeType,n=e.multiply,r=e.numberOfNights,i=[N.Bc.FLAT,N.Bc.PER_OCCUPANCY_TYPE,N.Bc.PER_QUANTITY_NAME].includes(t),o=[N.Bc.PER_ADULT_OCCUPANCY,N.Bc.PER_CHILD_OCCUPANCY,N.Bc.PER_PERSON,N.Bc.PER_PERSON_OCCUPANCY,N.Bc.PER_ROOM].includes(t);return it(Fragment,{},void 0,it(S.a,{condition:i},void 0,n),it(FormattedMessage,{id:"AddOnPriceBreakdown.label.days",values:{numberOfNights:r}}),it(S.a,{condition:o},void 0,n))};function st(e,t,n,r){ot||(ot="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:ot,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ct,dt=function(e){var t=e.chargeType,n=e.quantity,r=e.reservationAdultCount,i=e.reservationChildCount;return _.cond([[function(){return t===N.Bc.PER_ROOM},function(){return st("span",{},void 0,n)}],[function(){return t===N.Bc.PER_PERSON},function(){return st(FormattedMessage,{id:"AddOnPriceBreakdown.label.guests",values:{numberOfGuests:n}})}],[function(){return t===N.Bc.PER_PERSON_OCCUPANCY},function(){return st(Fragment,{},void 0,st(FormattedMessage,{id:"AddOnPriceBreakdown.label.moreThanOneAdult",values:{numberOfGuests:r}}),st(S.a,{condition:i>0},void 0,", ",st(FormattedMessage,{id:"AddOnPriceBreakdown.label.moreThanOneChild",values:{numberOfGuests:i}})))}],[function(){return t===N.Bc.PER_ADULT_OCCUPANCY},function(){return st(FormattedMessage,{id:"AddOnPriceBreakdown.label.moreThanOneAdult",values:{numberOfGuests:r}})}],[function(){return t===N.Bc.PER_CHILD_OCCUPANCY},function(){return st(FormattedMessage,{id:"AddOnPriceBreakdown.label.moreThanOneChild",values:{numberOfGuests:i}})}],[function(){return!0},function(){return st("span",{},void 0,n)}]])()};function lt(e,t,n,r){ct||(ct="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:ct,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var ut,ft=function(e){var t=e.addOn,n=e.displayCurrency,r=e.numberOfNights,i=e.originalCurrency,o=e.quantityName,a=e.reservationAdultCount,s=e.reservationChildCount,c=e.selectedAddOn,d=e.showPricingInclusiveOfTax,l=e.styles,u=t.chargeFrequency,f=t.chargeType,p=t.dayRequestRequirement,y=t.isPointsOnly,m=[N.Db.ADULT,N.Db.CHILD,N.Db.SENIOR],v=[N.Bc.PER_PERSON_OCCUPANCY,N.Bc.PER_ADULT_OCCUPANCY,N.Bc.PER_CHILD_OCCUPANCY].includes(f),g=u!==N.Dc.PER_STAY&&p!==N.Cc.ONE_DAY,b=lt("span",{},void 0," X "),h=lt(at,{chargeType:f,multiply:b,numberOfNights:r}),O=m.reduce((function(e,r){var u=_.toLower(r);if(!!_.get(t,"".concat(u,"Prices")).amount){var p=_.get(c,[u]),m=p.quantity,O=p.totalPoints,P=p.averageAmount,w=p.averageAmountWithTaxesFees,A=p.totalAverageAmount,k=p.totalAverageAmountWithTaxesFees,C=d?w:P,S=d?k:A;_.cond([[function(){return y},function(){e.push(lt(Ge,{addOnPointsBaseTotal:O,styles:l}))}],[function(){return f===N.Bc.PER_OCCUPANCY_TYPE},function(){var t="AddOnPriceBreakdown.label.moreThanOne".concat(r);e.push(lt(Ye,{ageCodeDisplay:t,displayCurrency:n,displayNightPriceMultiplier:g,multiply:b,numberOfNightsDisplay:h,originalCurrency:i,quantity:m,singleQuantityPrice:C,styles:l,totalPrice:S}))}],[function(){return f===N.Bc.FLAT},function(){e.push(lt(Xe,{addOnBaseTotal:S,displayCurrency:n,displayNightPriceMultiplier:g,numberOfNightsDisplay:h,originalCurrency:i,singleQuantityPrice:C,styles:l}))}],[function(){return f===N.Bc.PER_QUANTITY_NAME},function(){e.push(lt(et,{addOnBaseTotal:S,displayCurrency:n,displayNightPriceMultiplier:g,multiply:b,numberOfNightsDisplay:h,originalCurrency:i,quantity:m,quantityName:o,singleQuantityPrice:C,styles:l}))}],[function(){return!0},function(){var t=lt(dt,{chargeType:f,quantity:m,reservationAdultCount:a,reservationChildCount:s});e.push(lt(rt,{addOnBaseTotal:S,displayCurrency:n,displayNightPriceMultiplier:g,multiply:b,numberOfNightsDisplay:h,isPerOccupancyCount:v,originalCurrency:i,perCountLabel:t,quantity:m,styles:l}))}]])()}return e}),[]);return lt(Fragment,{},void 0,O.map((function(e,t){return lt(Fragment,{},t,e)})))};function pt(e,t,n,r){ut||(ut="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:ut,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var yt,mt=React.memo((function(e){var t=e.SHOW_TAX_FEE_DETAIL_IN_PRICE_BREAKDOWN,n=e.addOnTaxList,r=e.addOnTaxTotal,i=e.addOnTaxPointsTotal,o=e.displayCurrency,a=e.originalCurrency,s=e.isPointsOnly,c=e.styles,d=Object(w.f)(n);return pt("div",{},void 0,t?_.map(d,(function(e,t){var n=e.Amount,r=e.Name,i=e.Points,d=s&&i?pt("div",{className:c.value+" "+c.valueInPoints},void 0,pt("span",{className:c.value},void 0,pt(FormattedNumber,{value:i}))," ",pt(FormattedMessage,{id:"loyalty.label.points"})):pt("div",{className:c.value},void 0,Object(x.pb)(n,a,o));return pt("div",{className:c.taxesAndFees},t,pt("div",{},void 0,r),d)})):pt("div",{className:c.taxesAndFees},void 0,pt("div",{},void 0,pt(FormattedMessage,{id:"AddOnPriceBreakdown.label.PackageTaxesFees",defaultMessage:"##AddOnPriceBreakdown.label.PackageTaxesFees##"})),s?pt("div",{className:c.value+" "+c.valueInPoints},void 0,pt("span",{className:c.value},void 0,pt(FormattedNumber,{value:i}))," ",pt(FormattedMessage,{id:"loyalty.label.points"})):pt("div",{className:c.value},void 0,Object(x.pb)(r,a,o))))}));var vt,gt,bt=function(e){var t=e.addOnDisplayTotal,n=e.displayCurrency,r=e.originalCurrency,i=e.styles;return function(e,t,n,r){yt||(yt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:yt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}("span",{className:(void 0===i?{}:i).price},void 0,Object(x.pb)(t,r,n))},ht=n(110),Ot=n(38),_t=n(1735),Pt=n.n(_t);function wt(e){return(wt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e){return function(e){if(Array.isArray(e))return kt(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return kt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kt(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ct(e,t,n,r){gt||(gt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:gt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==wt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==wt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===wt(o)?o:String(o)),r)}var i,o}function xt(e,t){return(xt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=jt(e);if(t){var i=jt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Tt(this,n)}}function Tt(e,t){if(t&&("object"===wt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Nt,Dt,Et=withStyles(Pt.a)(vt=bindRedux([p.a,Ot.a,ht.a])(vt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xt(e,t)}(a,Component);var t,n,r,i=Rt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).openPriceBreakDown=function(){t.setState({viewDetails:!t.state.viewDetails});t.props.sendClickAddOnOrdDetailsClickDataTracking("addons.details",t.props.addOn,t.props.selectedAddOn)},t.state={viewDetails:!1},t}return t=a,(n=[{key:"getSelectedDay",value:function(){var e=this.props.selectedAddOn.date,t=new Date;e&&(t=new Date(e.StartDate));var n=t.getDate().toString();return 1===n.length&&(n="0"+n),n}},{key:"render",value:function(){var e=this,t=this.props,n=t.activeReservation,r=t.addOn,i=t.configData,a=t.displayCurrency,s=t.custLoyaltyList,c=t.quantityName,d=t.originalCurrency,l=t.selectedAddOn,u=r.dailyAvailability,f=r.isPointsOnly,p=r.numberOfNights,y=r.name,m=l.adult,v=l.child,g=l.senior,b=function(e){return e.taxesFeesBreakdown.reduce((function(e,t){return e+(t.Points?0:t.Amount)}),0)},h=_.sum([b(m),b(v),b(g)]),O=_.sum([m.taxesFeesPoints,v.taxesFeesPoints,g.taxesFeesPoints]),P=i.SHOW_TAX_FEE_DETAIL_IN_PRICE_BREAKDOWN,w=i.showPricingInclusiveOfTax,A=this.state.viewDetails,k=!P,C=_.get(n,"Occupancy",{}),R=C.AdultCount,T=C.ChildCount,j=(u.find((function(t){return t.StartDate.slice(8,10)===e.getSelectedDay()}))||u[0]).PriceList,N=Ct(ft,{addOn:r,displayCurrency:a,numberOfNights:p,originalCurrency:d,PriceList:j,quantity:_.sum([m.quantity,v.quantity,g.quantity]),quantityName:c,reservationAdultCount:R,reservationChildCount:T,selectedAddOn:l,showPricingInclusiveOfTax:w,styles:Pt.a}),D=_.get(i,"enablePayByPoints"),E=_.size(s),I=!!D&&!!E&&!!_.sum([m.totalAveragePoints,v.totalAveragePoints,g.totalAveragePoints,O]),F="".concat(Pt.a.breakdown,"-").concat(y),L=Ct(mt,{SHOW_TAX_FEE_DETAIL_IN_PRICE_BREAKDOWN:P,addOnTaxList:[].concat(At(m.taxesFeesBreakdown),At(v.taxesFeesBreakdown),At(g.taxesFeesBreakdown)),addOnTaxTotal:h,addOnTaxPointsTotal:O,displayCurrency:a,numberOfNights:p,originalCurrency:d,viewDetails:A,styles:Pt.a,isPointsOnly:f}),M=Ct(bt,{addOnDisplayTotal:_.sum([m.totalAverageAmountWithTaxesFees,v.totalAverageAmountWithTaxesFees,g.totalAverageAmountWithTaxesFees]),displayCurrency:a,originalCurrency:d,styles:Pt.a});return Ct("div",{className:Pt.a.wrapper},void 0,Ct("span",{className:Pt.a.total},void 0,Ct(FormattedMessage,{id:"AddOnPriceBreakdown.label.total"})," "),Ct(S.a,{condition:I},void 0,Ct("span",{},void 0,Ct("span",{className:Pt.a.pointsPrice},void 0,Ct("span",{className:Pt.a.value},void 0,Ct(FormattedNumber,{value:_.sum([m.totalAveragePoints,v.totalAveragePoints,g.totalAveragePoints])}))," ",Ct(FormattedMessage,{id:"loyalty.label.points"})),Ct(S.a,{condition:!!h},void 0,Ct("span",{className:Pt.a.pointsPriceTaxes},void 0,Ct(FormattedMessage,{id:"loyalty.label.plusTaxesAndFees",values:{amount:Object(x.pb)(h,d,a)}}))),Ct(S.a,{condition:!f},void 0,Ct("span",{className:Pt.a.loyaltyOr},void 0,Ct(FormattedMessage,{id:"loyalty.label.or"})," ")))),Ct(S.a,{condition:!f},void 0,M),Ct("div",{className:Pt.a.taxIncluded},void 0,Ct(FormattedMessage,{id:"addOnsThumbCardPrice.text.includingTaxesAndFees"})),Ct(S.a,{condition:!k},void 0,Ct("div",{},void 0,Ct("div",{className:Pt.a.detailsLink},void 0,Ct(o.a,{className:"link",iconClassName:A?"arrowUpAfter":"arrowDownAfter",onClick:this.openPriceBreakDown,ariaExpanded:A,ariaControls:F},void 0,Ct(FormattedMessage,{id:"productAvailability.label.details"}))),Ct("div",{className:"".concat(Pt.a.breakdown," ").concat(A?Pt.a.expanded:Pt.a.hidden),id:F},void 0,N,L))))}}])&&St(t.prototype,n),r&&St(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}())||vt)||vt,It=n(1737),Ft=n.n(It);function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mt(e,t,n,r){Dt||(Dt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:Dt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return(t=Qt(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qt(r.key),r)}}function Qt(e){var t=function(e,t){if("object"!==Lt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Lt(t)?t:String(t)}function Gt(e,t){return(Gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function $t(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var i=Yt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ht(this,n)}}function Ht(e,t){if(t&&("object"===Lt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vt=withStyles(Ft.a)(Nt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gt(e,t)}(a,React.PureComponent);var t,n,r,i=$t(a);function a(){var e;Wt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={currentSelection:qt({},Object(w.b)(e.props.addOn,e.props.existingReservationAddOn,e.props.showPricingInclusiveOfTax,e.props.criteria)),isUpdated:!1,isAdded:!_.isEmpty(e.props.existingReservationAddOn)&&_.get(e.props,"existingReservationAddOn.status")!==N.l.INVALID,isRemoved:!1,showSuccessMessageForReqPackage:!0,showWarningMessageForReqPackage:!1},e.rootElement=React.createRef(),e.updateDate=function(t){var n=e.props,r=n.addOn,i=n.criteria,o=n.showPricingInclusiveOfTax;if(e.setState((function(e){var n=e.currentSelection,a=_.get(n,"adult",{}),s=_.get(n,"child",{}),c=_.get(n,"senior",{}),d={adult:a.quantity,child:s.quantity,senior:c.quantity};return{currentSelection:qt(qt({},n),{},{adult:qt(qt({},a),Object(w.a)({guestType:N.Db.ADULT,quantities:d,criteria:i,addOn:r,date:t,showPricingInclusiveOfTax:o})),child:qt(qt({},s),Object(w.a)({guestType:N.Db.CHILD,quantities:d,criteria:i,addOn:r,date:t,showPricingInclusiveOfTax:o})),senior:qt(qt({},c),Object(w.a)({guestType:N.Db.SENIOR,quantities:d,criteria:i,addOn:r,date:t,showPricingInclusiveOfTax:o})),date:t})}}),(function(){e.setFocusOnSelectedDate()})),_.get(e.props,"addOn.parameters.showTimeSlot")){var a=_.get(t,"TimeSlotList[0].Time","").slice(0,5);e.updateTime(a)}},e.updateTime=function(t){e.setState((function(e){return{currentSelection:qt(qt({},e.currentSelection),{},{timeslot:t})}}))},e.updateQuantity=function(t){var n=e.props,r=n.criteria,i=n.addOn,o=n.showPricingInclusiveOfTax,a=t.adult,s=t.child,c=t.senior,d=i.adultPrices,l=i.childPrices,u=i.seniorPrices,f=i.numberOfNights,p=i.chargeType,y=Object(w.F)(N.Db.ADULT,p)?a.quantity:0,m=Object(w.F)(N.Db.CHILD,p)?s.quantity:0,v=Object(w.F)(N.Db.SENIOR,p)?c.quantity:0,g=Object(w.t)(p,r);e.setState((function(e){return{currentSelection:qt(qt({},e.currentSelection),{},{adult:{quantity:y,totalPoints:d.points*y*f,totalAmount:d.amount*y*f,totalAmountWithTaxesFees:d.amountWithTaxesFees*y*f,taxesFeesBreakdown:d.taxesFeesBreakdown.map((function(e,t){return qt(qt({},e),{},{Amount:Object(w.c)(i,"Adult",e.Code,!1)*y,Points:Object(w.c)(i,"Adult",e.Code,!0)*y})})),taxesFeesPoints:Object(w.c)(i,"Adult")*y,averageAmount:a.averageAmount,averageAmountWithTaxesFees:a.averageAmountWithTaxesFees,totalAverageAmount:o?a.averageAmount*f*y:a.averageAmount*f*(g*y),totalAverageAmountWithTaxesFees:o?a.averageAmountWithTaxesFees*f*y:a.averageAmountWithTaxesFees*f*(g*y),averagePoints:a.averagePoints,totalAveragePoints:(a.averagePoints+a.averageTaxPoints)*f*y,averageTaxPoints:a.averageTaxPoints,totalTaxPoints:a.averageTaxPoints*f*y},child:{quantity:m,totalPoints:l.points*m*f,totalAmount:l.amount*m*f,totalAmountWithTaxesFees:l.amountWithTaxesFees*m*f,taxesFeesBreakdown:l.taxesFeesBreakdown.map((function(e,t){return qt(qt({},e),{},{Amount:Object(w.c)(i,"Child",e.Code,!1)*m,Points:Object(w.c)(i,"Child",e.Code,!0)*m})})),taxesFeesPoints:Object(w.c)(i,"Child")*m,averageAmount:s.averageAmount,averageAmountWithTaxesFees:s.averageAmountWithTaxesFees,totalAverageAmount:o?s.averageAmount*f*m:s.averageAmount*f*(g*m),totalAverageAmountWithTaxesFees:o?s.averageAmountWithTaxesFees*f*m:s.averageAmountWithTaxesFees*f*(g*m),averagePoints:s.averagePoints,totalAveragePoints:(s.averagePoints+s.averageTaxPoints)*f*m,averageTaxPoints:s.averageTaxPoints,totalTaxPoints:s.averageTaxPoints*f*m},senior:{quantity:v,totalPoints:u.points*v*f,totalAmount:u.amount*v*f,totalAmountWithTaxesFees:u.amountWithTaxesFees*v*f,taxesFeesBreakdown:u.taxesFeesBreakdown.map((function(e,t){return qt(qt({},e),{},{Amount:Object(w.c)(i,"Senior",e.Code,!1)*v,Points:Object(w.c)(i,"Senior",e.Code,!0)*v})})),taxesFeesPoints:Object(w.c)(i,"Senior")*v,averageAmount:c.averageAmount,averageAmountWithTaxesFees:c.averageAmountWithTaxesFees,totalAverageAmount:o?c.averageAmount*f*v:c.averageAmount*f*(g*v),totalAverageAmountWithTaxesFees:o?c.averageAmountWithTaxesFees*f*v:c.averageAmountWithTaxesFees*f*(g*v),averagePoints:c.averagePoints,totalAveragePoints:(c.averagePoints+c.averageTaxPoints)*f*v,averageTaxPoints:c.averageTaxPoints,totalTaxPoints:c.averageTaxPoints*f*v}})}}))},e}return t=a,r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=_.get(t,"currentSelection.isInvalid"),r=_.get(e,"existingReservationAddOn.status")!==N.l.INVALID;return n&&r?{currentSelection:qt(qt({},t.currentSelection),{},{isExistingOnReservation:!0,isInvalid:!1}),isAdded:!0}:null}}],(n=[{key:"componentDidUpdate",value:function(e){e.isRequiredPackageInReservation!==this.props.isRequiredPackageInReservation&&e.isRequiredPackageInReservation&&Object(x.sb)(0,"smooth"),_.isEqual(e.existingReservationAddOn,this.props.existingReservationAddOn)||this.setState({isAdded:!_.isEmpty(this.props.existingReservationAddOn)&&_.get(this.props,"existingReservationAddOn.status")!==N.l.INVALID,currentSelection:qt({},Object(w.b)(this.props.addOn,this.props.existingReservationAddOn,this.props.showPricingInclusiveOfTax,this.props.criteria))})}},{key:"render",value:function(){var e=this,t=this.props,n=t.addOn,r=t.activeReservation,i=t.displayCurrency,a=t.originalCurrency,s=t.sendClickAddOnOrdDetailsClickDataTracking,c=t.showPricingInclusiveOfTax,d=t.expandedForRequiredPackages,l=t.requiredPackagesPreselected,u=t.isUpdateReservationInitiatedAtItemLevel,f=this.state,p=f.currentSelection,y=f.showSuccessMessageForReqPackage,m=f.isAddOrUpdateSpinnerActive,v=f.isRemoveSpinnerActive,g=f.isAdded,b=f.isRemoved,h=f.isUpdated,O=r||{},P=O.EndDate,A=O.StartDate,k=n.dailyAvailability,x=n.isPointsOnly,T=n.maximumQuantity,j=n.minimumQuantity,D=n.quantityName,E=n.name,I=D?"".concat(D,":"):D,F=_.get(n,"parameters",{}),L=F.showOccupancySelection,M=F.showQuantitySelection,B=F.showQuantityNameSelection,q=F.showDateRange,U=F.showTimeSlot,W=n.hasParameters&&d&&y&&l,z="".concat(Ft.a.container,"-").concat(E);return React.createElement("div",{className:Ft.a.container,id:z,ref:this.rootElement},Mt(S.a,{condition:W},void 0,Mt(C.a,{messageType:"success",isInline:!0,messages:[Mt(FormattedMessage,{id:"addOnsContainer.title.weSelectedForYou"},"weSelectedForYou_".concat(E)),Mt(FormattedMessage,{id:"addOnsContainer.text.updateAccordingToNeeds"},"updateAccordingToNeeds_".concat(E))]})),Mt("div",{className:Ft.a.left},void 0,Mt(S.a,{condition:L},void 0,Mt(Y,{addOnName:E,currentSelection:p,displayCurrency:i,isPointsOnly:x,originalCurrency:a,maxQuantity:T,minQuantity:j,selectedDate:p.date,showPricingInclusiveOfTax:c,updateQuantity:function(t){return e.updateQuantity(t)}})),Mt(S.a,{condition:M},void 0,Mt(pe,{currentSelection:p,displayCurrency:i,originalCurrency:a,maxQuantity:T,minQuantity:j,updateQuantity:function(t){return e.updateQuantity(t)},addOn:n})),Mt(S.a,{condition:B},void 0,Mt(pe,{currentSelection:p,displayCurrency:i,originalCurrency:a,maxQuantity:T,minQuantity:j,updateQuantity:function(t){return e.updateQuantity(t)},addOn:n,quantityName:I}))),Mt("div",{className:Ft.a.right},void 0,Mt(S.a,{condition:q},void 0,Mt(Re,{availableDates:k,selectedDate:p.date,startDate:A,endDate:P,onChange:function(t){return e.updateDate(t)}})),Mt(S.a,{condition:U},void 0,Mt(We,{timeslot:Object(w.r)(n,p),onSelect:function(t){return e.updateTime(t)},selectedTimeSlot:p.timeslot}))),Mt(Et,{addOn:n,selectedAddOn:p,activeReservation:r,displayCurrency:i,originalCurrency:a,quantityName:D,sendClickAddOnOrdDetailsClickDataTracking:s}),Mt("div",{className:Ft.a.messages},void 0,Mt(S.a,{condition:g},void 0,Mt(C.a,{messageType:"success",isInline:!0,contentAlignment:N.sc.RIGHT,messages:Mt(FormattedMessage,{id:"addOns.text.added"})})),Mt(S.a,{condition:b},void 0,Mt(C.a,{messageType:"warning",isInline:!0,contentAlignment:N.sc.RIGHT,messages:Mt(FormattedMessage,{id:"addOns.text.removed"})})),Mt(S.a,{condition:p.isInvalid},void 0,Mt(C.a,{messageType:"warning",isInline:!0,contentAlignment:N.sc.RIGHT,messages:Mt(FormattedMessage,{id:"addOns.text.addItemToKeepItWithTheReservation"})})),Mt(S.a,{condition:h&&!b},void 0,Mt(C.a,{messageType:"info",isInline:!0,contentAlignment:N.sc.RIGHT,messages:Mt(FormattedMessage,{id:"addOns.text.updated"})}))),Mt(R.a,{},void 0,!p.isExistingOnReservation&&Mt(o.a,{className:"link",onClick:this.props.toggleDetails,ariaControls:z},void 0,Mt(FormattedMessage,{id:"editConfirmedReservation.button.cancel"})),p.isExistingOnReservation&&Mt(o.a,{className:"link",onClick:function(){return e.removeAddOn()},enableSpinner:!0,processing:v},void 0,Mt(FormattedMessage,{id:"AddOnPriceBreakdown.label.remove"})),p.isExistingOnReservation&&Mt(o.a,{className:"btn",colorClassName:"primary",sizeClassName:"sm",onClick:function(){return e.modifyAddOn()},enableSpinner:!0,processing:u||m},void 0,Mt(FormattedMessage,{id:"thumbCard.button.update"})),!p.isExistingOnReservation&&Mt(o.a,{className:"btn",colorClassName:"primary",sizeClassName:"sm",disabled:Object(w.e)(n,p),onClick:function(){return e.addAddOn()},enableSpinner:!0,processing:u||m},void 0,Mt(FormattedMessage,{id:"addOns.button.addToMyStay"}))))}},{key:"setFocusOnSelectedDate",value:function(){var e=_.get(this,"rootElement.current",document).querySelector('.slick-active button[class="add-ons-date-selection_selected"]');_.invoke(e,"focus")}},{key:"removeAddOn",value:function(){var e=this,t=this.props,n=t.addOn,r=t.removePackageFromReservation,i=this.state.currentSelection;this.setState({isRemoveSpinnerActive:!0}),r(n).then((function(t){t&&e.setState({isRemoved:!0,isAdded:!1,isUpdated:!1,showSuccessMessageForReqPackage:!1,showWarningMessageForReqPackage:!0,isRemoveSpinnerActive:!1,currentSelection:qt(qt({},i),{},{isExistingOnReservation:!1})},(function(){n.hasParameters||e.props.toggleDetails(),setTimeout((function(){e.setState({isRemoved:!1})}),2e3)}))}))}},{key:"modifyAddOn",value:function(){var e=this,t=this.props,n=t.addOn,r=t.modifyPackagesOnReservation,i=this.state.currentSelection;this.setState({isAddOrUpdateSpinnerActive:!0}),r([n],[i]).then((function(t){t&&e.setState({isUpdated:!0,isRemoved:!1,isAdded:!1,showSuccessMessageForReqPackage:!1,isAddOrUpdateSpinnerActive:!1})}))}},{key:"addAddOn",value:function(){var e=this,t=this.props,n=t.addOn,r=t.addPackagesToReservation,i=this.state.currentSelection;this.setState({isAddOrUpdateSpinnerActive:!0}),r([n],[i]).then((function(t){t&&e.setState({isAdded:!0,isRemoved:!1,isUpdated:!1,showSuccessMessageForReqPackage:!1,showWarningMessageForReqPackage:!1,isAddOrUpdateSpinnerActive:!1,currentSelection:qt(qt({},i),{},{isExistingOnReservation:!0})})}))}}])&&zt(t.prototype,n),r&&zt(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}())||Nt;Vt.defaultProps={selectedAddOn:{}};var Kt,Xt=Vt,Jt=n(3);function Zt(e,t,n,r){Kt||(Kt="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:Kt,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,d=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(e){d=!0,i=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return tn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nn,rn=function(e){var t=e.addOnDescription,n=e.styles,r=en(Object(Jt.useState)(!1),2),i=r[0],a=r[1];if(_.size(t)>140){var s=i?"productDetailView.label.viewLess":"productDetailView.label.viewMore",c=i?t:_.truncate(t,{length:140,separator:/,? +/});return Zt("div",{},void 0,Zt("div",{className:n.addOnDescription,"aria-live":"assertive","aria-relevant":"all",dangerouslySetInnerHTML:{__html:c}}),Zt("div",{className:n.viewMoreButton},void 0,Zt(o.a,{className:"link",onClick:function(){return a(!i)}},void 0,Zt(FormattedMessage,{id:s,defaultMessage:"##"+s+"##"}),Zt("span",i?{className:"button_arrowUpAfter"}:{className:"button_arrowDownAfter"}))))}return Zt("div",{className:n.addOnDescription,dangerouslySetInnerHTML:{__html:t}})},on=n(1659);function an(e,t,n,r){nn||(nn="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:nn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var sn,cn=function(e){var t=e.policies,n=e.styles,r=an(e.anyRequiredPackagesExist?"h5":"h4",{className:"app_subheading2"},void 0,an(FormattedMessage,{id:"productDetailView.sectionHeader.policies"}));return an("div",{className:n.addOnPolicies},void 0,r,t.cancelPolicy&&an("div",{className:n.addOnCancelPolicy},void 0,t.cancelPolicy.Description),t.bookingPolicy&&an("div",{className:n.addOnBookingPolicy},void 0,t.bookingPolicy.Description))},dn=n(24),ln=n(91),un=n(7),fn=n.n(un),pn=n(260),yn=n(380),mn=n(608);function vn(e){return(vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gn(e,t,n,r){sn||(sn="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:sn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function bn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==vn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==vn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===vn(o)?o:String(o)),r)}var i,o}function hn(e,t){return(hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pn(e);if(t){var i=Pn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _n(this,n)}}function _n(e,t){if(t&&("object"===vn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Pn(e){return(Pn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var wn,An=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hn(e,t)}(a,React.PureComponent);var t,n,r,i=On(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e))._toggleDetails=function(){var e=t.props,n=e.addOn,r=e.addPackagesToReservation,i=e.existingReservationAddOn,o=e.sendClickAddOnOrdDetailsClickDataTracking,a=e.showPricingInclusiveOfTax,s=e.criteria;t.state.expanded||n.hasParameters||(t.setState({initiatedUpdateReservationAtItemLevel:!0}),r([n],[Object(w.b)(n,i,a,s)])),o("addons.click",n,i),t.setState({expanded:!t.state.expanded})};var n=_.get(e,"existingReservationAddOn.status","")===N.l.INVALID;return t.state={expanded:t.props.expanded||n||!1,expendedDescription:!1,expandedForRequiredPackages:!!t.props.expanded,initiatedUpdateReservationAtItemLevel:!1},t}return t=a,(n=[{key:"componentDidUpdate",value:function(e){e.updateReservationInProgress&&!this.props.updateReservationInProgress&&this.state.initiatedUpdateReservationAtItemLevel&&this.setState({initiatedUpdateReservationAtItemLevel:!1})}},{key:"render",value:function(){var e=this.props,t=e.addOn,n=e.styles,r=e.appEnv,i=e.selectedCurrency,a=e.avcurrency,s=e.activeReservation,c=e.showPricingInclusiveOfTax,d=e.addPackagesToReservation,l=e.modifyPackagesOnReservation,u=e.removePackageFromReservation,f=e.existingReservationAddOn,p=e.isRequired,y=e.isRequiredPackageInReservation,m=e.criteria,v=e.anyRequiredPackagesExist,g=e.sendClickAddOnOrdDetailsClickDataTracking,b=e.requiredPackagesPreselected,h=e.updateReservationInProgress,O=e.intl.formatMessage,P=this.state,A=P.expandedForRequiredPackages,k=P.expanded,C=P.initiatedUpdateReservationAtItemLevel,S=t.policyList,R=t.hasParameters,T=_.get(t,"dailyAvailability[0].PriceList[0].CurrencyCode"),j=Object(dn.g)(T,i,a),D=Object(w.n)(t,s),E=Object(x.O)(_.get(t,"description")),I=_.get(t,"url",""),F=_.get(t,"name",""),L=_.get(t,"image.Path"),M=L===N.H,B=Object(x.I)(L,r),q=_.get(t,"image"),U=Object(w.q)(t,c,m),W=Object(w.h)(U),z=gn("div",{className:n.bookDirectBenefit},void 0,gn(mn.a,{bold:!0,highlighted:!0,noMargin:!0,icon:"trophy",label:"addOns.text.bookDirect".concat(W?"Benefit":"Offer")})),Q=O({id:"addOns.text.detailsLinkScreenReader"},{addOnName:F});return gn("div",{className:n.addOn,"data-package-code":_.get(t,"code"),"data-testid":"addon"},void 0,gn(yn.a,{},void 0,(function(e){return gn(pn.a,{condition:!e&&p},void 0,z)})),gn("div",{className:n.addOnheader,"data-testid":"addon-header"},void 0,!M&&gn("div",{className:n.addOnImgWrapper,"data-testid":"addon-image"},void 0,gn(ln.a,{src:B,cssClass:fn()(n.addOnImage),backgroundImage:!0,sourceComponent:N.Vb.PACKAGE_IMAGE,imageData:q})),gn(yn.a,{},void 0,(function(e){return gn(pn.a,{condition:e&&p},void 0,z)})),gn("div",{className:n.addOnInfo,"data-testid":"addon-info"},void 0,gn("div",{className:n.addOnInfoTop,"data-testid":"addon-info-top"},void 0,gn("div",{className:n.addOnDetails,"data-testid":"addon-details"},void 0,gn(pn.a,{condition:!v},void 0,gn("h3",{className:"app_heading1",dangerouslySetInnerHTML:{__html:Object(x.O)(F)},"data-testid":"addon-info-header"})),gn(pn.a,{condition:v},void 0,gn("h4",{className:"app_heading1",dangerouslySetInnerHTML:{__html:Object(x.O)(F)},"data-testid":"addon-info-header"})),gn(rn,{addOnDescription:E,styles:n}),gn(pn.a,{condition:!(!S.bookingPolicy&&!S.cancelPolicy)},void 0,gn(cn,{policies:S,styles:n,anyRequiredPackagesExist:v})),gn(pn.a,{condition:Boolean(I)},void 0,gn("a",{className:n.addOnUrl,target:"_blank",href:(I.startsWith("http")?"":"//")+I,rel:"noreferrer","data-testid":"addon-url","aria-label":Q},void 0,gn(FormattedMessage,{id:"addOns.text.detailsLink"})))),gn(on.a,{addOn:t,displayCurrency:j,originalCurrency:T})),gn(pn.a,{condition:!k},void 0,gn("div",{className:n.addOnInfoBottom,"data-testid":"addon-info-button"},void 0,gn(o.a,{className:"btn",colorClassName:"primary",sizeClassName:"sm",ariaExpanded:k,onClick:this._toggleDetails},void 0,_.cond([[function(){return p&&!R},function(){return gn(FormattedMessage,{id:"AddOnPriceBreakdown.label.addToCart"})}],[function(){return p&&R},function(){return gn(FormattedMessage,{id:"addOns.button.addDetails"})}],[function(){return!p&&!R},function(){return gn(FormattedMessage,{id:"addOns.button.addToMyStay"})}],[function(){return!0},function(){return gn(FormattedMessage,{id:"addOns.button.addDetails"})}]])()))))),gn(pn.a,{condition:k},void 0,gn(Xt,{activeReservation:s,addOn:t,addPackagesToReservation:d,displayCurrency:j,existingReservationAddOn:f,isAddOnRemovable:D,modifyPackagesOnReservation:l,originalCurrency:T,removePackageFromReservation:u,sendClickAddOnOrdDetailsClickDataTracking:g,showPricingInclusiveOfTax:c,criteria:m,toggleDetails:this._toggleDetails,expandedForRequiredPackages:A,isRequiredPackageInReservation:y,isRequired:p,requiredPackagesPreselected:b,isUpdateReservationInitiatedAtItemLevel:h&&C})))}}])&&bn(t.prototype,n),r&&bn(t,r),Object.defineProperty(t,"prototype",{writable:!1}),a}(),kn=injectIntl(An);function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sn(e,t,n,r){wn||(wn="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:wn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function xn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Cn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Cn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Cn(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Rn=function(e){var t,n=e.appEnv,r=e.styles,i=e.addOns,o=e.addPackagesToReservation,a=e.avcurrency,s=e.categories,c=e.isRequired,d=e.activeReservation,l=e.modifyPackagesOnReservation,u=e.packageList,f=e.removePackageFromReservation,p=e.selectedCurrency,y=e.sendClickAddOnOrdDetailsClickDataTracking,m=e.showPricingInclusiveOfTax,v=e.isRequiredPackageInReservation,g=e.criteria,b=e.isConfirmationAddOn,h=e.requiredPackagesPreselected,O=e.updateReservationInProgress,P=_.cloneDeep(Object(w.d)(i)),A=Object(w.I)(e.packageList),k=fn()(r.group,(xn(t={},r.requiredGroup,c&&v),xn(t,r.requiredGroupWarning,c&&!v),xn(t,r.additionalPackages,!c&&A&&!b),t)),R=Sn(FormattedMessage,{id:"addOns.title.selectedRequiredAddonsMessage",values:{preSelectionMessage:h?Sn(FormattedMessage,{id:"addOnsContainer.info.selectedRequiredAddonsMessage"}):""}});return Sn("div",{className:k},void 0,Sn(S.a,{condition:c&&v},void 0,Sn(C.a,{messageType:"successTrophy",isToastInline:!0,positionStatic:!0,messages:R})),Sn(S.a,{condition:c&&!v},void 0,Sn(C.a,{messageType:"warning",isToastInline:!0,positionStatic:!0,messages:Sn(FormattedMessage,{id:"addOns.title.selectBookDirectBenefit"})})),Sn(S.a,{condition:!c&&A&&!b},void 0,Sn("div",{className:r.additionalPackagesHeading},void 0,Sn("h2",{className:"app_heading1"},void 0,Sn(FormattedMessage,{id:"addOns.title.additionalWaysEnhanceYourStay"})))),_.keys(P).sort(Object(w.o)(s,P)).map((function(t){var i=P[t],b=s.find((function(e){return e.Code===t}));return Sn("div",{className:r.categoryGroup,"data-category-group-code":t},"".concat(t,"_addOn"),Sn(S.a,{condition:A},void 0,Sn("h3",{className:"app_heading1",dangerouslySetInnerHTML:{__html:Object(x.O)(_.get(b,"Name"))}})),Sn(S.a,{condition:!A},void 0,Sn("h2",{className:"app_heading1",dangerouslySetInnerHTML:{__html:Object(x.O)(_.get(b,"Name"))}})),i.sort(Object(w.p)(u)).map((function(t,i){var s=e.activeAddOnsAll.find((function(n){var r=n.code;return n.reservationId===_.get(e,"activeReservation.Id")&&r===_.get(t,"code")}));return Sn(kn,{isRequired:c,activeAddOnsAll:e.activeAddOnsAll,activeReservation:d,addPackagesToReservation:o,avcurrency:a,addOn:t,existingReservationAddOn:s,modifyPackagesOnReservation:l,removePackageFromReservation:f,selectedCurrency:p,sendClickAddOnOrdDetailsClickDataTracking:y,showPricingInclusiveOfTax:m,styles:r,expanded:!_.isEmpty(s),isRequiredPackageInReservation:v,criteria:g,anyRequiredPackagesExist:A,requiredPackagesPreselected:h,appEnv:n,updateReservationInProgress:O},"".concat(t.code,"_addOn_").concat(i))})))})))};Rn.defaultProps={isConfirmationAddOn:!1};var Tn,jn,Nn=Rn,Dn=n(13),En=n(47),In=n(52),Fn=n(22),Ln=n(65),Mn=n(1681),Bn=n(158),qn=n(186),Un=n(1739),Wn=n.n(Un);function zn(e){return(zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qn(e,t,n,r){jn||(jn="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:jn,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function Gn(){Gn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),s=new k(i||[]);return r(a,"_invoke",{value:_(e,n,s)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var u={};function f(){}function p(){}function y(){}var m={};c(m,o,(function(){return this}));var v=Object.getPrototypeOf,g=v&&v(v(C([])));g&&g!==t&&n.call(g,o)&&(m=g);var b=y.prototype=f.prototype=Object.create(m);function h(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){var i;r(this,"_invoke",{value:function(r,o){function a(){return new t((function(i,a){!function r(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var d=c.arg,u=d.value;return u&&"object"==zn(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(u).then((function(e){d.value=e,a(d)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}(r,o,i,a)}))}return i=i?i.then(a,a):a()}})}function _(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return S()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=P(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function P(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,P(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function C(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=y,r(b,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:p,configurable:!0}),p.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},h(O.prototype),c(O.prototype,a,(function(){return this})),e.AsyncIterator=O,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new O(d(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},h(b),c(b,s,"Generator"),c(b,o,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=C,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(A),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function $n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,i)}function Hn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==zn(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==zn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===zn(o)?o:String(o)),r)}var i,o}function Yn(e,t){return(Yn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Jn(e);if(t){var i=Jn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kn(this,n)}}function Kn(e,t){if(t&&("object"===zn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xn(e)}function Xn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Jn(e){return(Jn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"default",(function(){return Zn}));var Zn=withStyles(Wn.a)(Tn=bindRedux([p.a,y.a,g.a,m.a,En.a,Ot.a,v.a,In.a,b.a,h.a],[u,c,d,l,Dn,f])(Tn=injectIntl(Tn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yn(e,t)}(d,Component);var t,r,i,c=Vn(d);function d(e){var t,n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(t=c.call(this,e))._onContinueClick=(n=Gn().mark((function e(){var n,r,i,o,a,s,c,d,l,u,f,p,y;return Gn().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.props,r=n.currentUrlParams.rooms,i=n.reservations,o=n.updateReservationInProgress,a=n.isSIPActivated,s=n.actions,c=n.activeReservationsForBookingViews,d=n.iwmConfigData,l=n.selectedHotel,window.isBackButtonClickFromConfirmation=!1,!o){e.next=4;break}return e.abrupt("return",!1);case 4:if(u=parseInt(r),_.size(i)>=u){e.next=9;break}return s.clearModifyDetails(),e.abrupt("return",s.navigateToGetProductAvailability({isAllRoomRendered:!1,showAddOns:!0,reservationIndex:!1,hasAvailablePackages:!0,availabilityCriteria:t.props.availabilityCriteria}));case 9:if(!a){e.next=19;break}return s.clearValidateReservationResults(),f=_.get(d,"hotelDefaultCurrency",[]),p=!0,y={},e.next=16,Promise.all(c.map((function(e,t){return Object(A.db)(e,f)?Promise.resolve():s.validateOffersForReservation(e,{onlyCheckMandatory:!0}).then((function(n){_.get(n,"isValidationSuccessful",!0)||(p=!1,y.index=t,y.reservation=e)}))})));case 16:p&&!o?s.navigate(N.B.CHECKOUT):s.editReservationFromReservationCart(_.get(y,"reservation"),c,l,_.get(y,"index"),!0),e.next=20;break;case 19:o||s.navigate(N.B.CHECKOUT);case 20:case"end":return e.stop()}}),e)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function a(e){$n(o,r,i,a,s,"next",e)}function s(e){$n(o,r,i,a,s,"throw",e)}a(void 0)}))}),t.filteredAddOns=t._filteredAddOns.bind(Xn(t)),t.onToastMessageClose=t._onToastMessageClose.bind(Xn(t)),t.state={isSipComponentLoaded:!1,isSortable:Boolean(e.addOnsByReservationId[e.activeReservationId])},Object(x.wb)("addOns.title.browserTitle",{hotelAndChainLevelDetails:e.hotelAndChainLevelDetails,hotelDetails:e.hotelDetails,formatMessage:e.intl.formatMessage}),t}return t=d,(r=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.actions,r=t.isSIPActivated,i=t.getOffersSuccess,o=t.getOffersError,a=t.getOffersInProgress;n.generateEditingReservationServicesMessage(),r&&(a||o||i?this.importSIPComponent():n.getOffers().then((function(){n.handleGetOffersResponse(!1),e.importSIPComponent()}))),n.setUserHasSearched(!1)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.isSIPActivated,n=e.actions,r=e.activeReservationId;t?(n.clearMandatoryErrorState(),n.clearValidateReservationResults()):n.removeInvalidAddOnsByReservationId(r),this.props.actions.setIsNewReservation(!1),this.props.actions.addingNewReservation(!1),this.props.actions.setLastUpdatedOffer(null)}},{key:"componentDidUpdate",value:function(e){!e.languageChangeInProgress&&this.props.languageChangeInProgress&&this.props.actions.clearOffersList(),_.isEqual(this.props.selectedCurrency,e.selectedCurrency)||this.props.actions.setLastUpdatedOffer(null);var t=_.get(e,"updateReservation.Error"),n=_.get(this.props,"updateReservation.Error"),r=!t&&n,i=_.get(e,"validateReservationMandatoryResult.Error"),o=_.get(this.props,"validateReservationMandatoryResult.Error");(i!==o&&o||r)&&window.scrollTo(0,0)}},{key:"importSIPComponent",value:function(){var e=this;return Promise.all([n.e(90),n.e(91)]).then(n.bind(null,1947)).then((function(t){e.sipComponent=t.default,e.setState({isSipComponentLoaded:!0})}))}},{key:"render",value:function(){var e=this,t=this.sipComponent,n=this.props,r=n.actions,i=n.appEnv,c=n.avcurrency,d=n.reservations,l=n.CategoryList,u=n.activeReservationId,f=n.updateReservationInProgress,p=n.removeReservationRequested,y=n.intl,m=n.isInModifyMode,v=n.PackageList,g=n.pathname,b=n.updateReservation,h=n.selectedAddonCode,k=n.cartToggled,R=n.activeAddOnsAll,T=n.languageChangeInProgress,j=n.getRoomUpsellOffersInProgress,D=n.getAddOnsInProgress,E=n.configData,I=n.selectedCurrency,F=n.criteria,L=n.requiredPackagesPreselected,M=n.confirmItineraryErrors,B=n.validateReservationOffersResult,q=n.isSIPActivated,U=n.offersList,W=n.mandatoryOffers,z=n.validateReservationMandatoryResult,Q=n.iwmCurrencyExchange,G=n.iwmDecimal,$=r.addPackagesToReservation,H=r.modifyPackagesOnReservation,Y=r.removePackageFromReservation,V=r.sendClickAddOnOrdDetailsClickDataTracking,K=Object(A.cb)({updateReservationInProgress:f,removeReservationRequested:p,getAddOnsInProgress:D,getRoomUpsellOffersInProgress:j,languageChangeInProgress:T}),X=d.find((function(e){return e.Id===u}))||{},J=Object(w.z)(this.filteredAddOns()),Z=m?Object(w.H)([X],!!J.length):Object(w.H)(Object(A.C)(d),!!J.length),ee=h?Object(w.y)(this._filteredAddOns()).filter((function(e){return e.code!==h})):Object(w.y)(this._filteredAddOns()),te=this.props.currentUrlParams.rooms,ne=parseInt(te),re=ne!==d.length,ie=_.size(d)>=ne,oe=d.length,ae=!!Z&&(re&&!m?"/":N.B.CHECKOUT),se=h?Object(w.y)(this._filteredAddOns()).find((function(e){return e.code===h})):{},ce=R.filter((function(e){return e.reservationId===u})).some((function(e){return e.status===N.l.INVALID})),de=!!Object(A.D)(B),le=_.get(X,"Status",""),ue=[N.td.BOOKED,N.td.STORED].includes(le),fe=this._getPageLevelError(b,B,z,ce,ue),pe=Object(Ln.q)({isSIPActivated:q,offersList:U,mandatoryOffers:W,activeReservation:X}),ye=!Z||K||!pe,me=ye?y.formatMessage({id:"accessibility.continueButtonDisabled"}):y.formatMessage({id:"accessibility.continueButtonEnabled"}),ve=E.showPricingInclusiveOfTax,ge=_.some(d,(function(e){return e.Status===N.td.STORED})),be=_.get(M,"[0].messageIdForDisplay"),he=_.map(M,(function(e){return e.confirmationNumber})),Oe=Qn(Mn.a,{},void 0,(function(t,n){return Qn(S.a,{condition:t||n},void 0,Qn(o.a,{className:"link",onClick:function(){return e.props.actions.toggleCart(!0)}},void 0,Qn(FormattedMessage,{id:"cart.text.editCart"})))})),_e=this.getLastUpdatedOfferMessage();return Qn("div",{className:Wn.a.section},void 0,Qn(qn.b,{message:me,"aria-live":"assertive"}),Qn("div",{className:"app_container"},void 0,Qn("div",{className:"app_row"},void 0,_e,Qn(S.a,{condition:!k},void 0,Qn("main",{id:"mainContent",className:"app_col-sm-12 app_col-md-12 app_col-lg-8"},void 0,Qn("header",{},void 0,Qn(O.a,{reservationIndex:oe,currentStep:"addOns",canSkipStep:ae,isRequiredPackageInReservation:Z,header:y.formatMessage({id:"addOns.title.pageTitle",defaultMessage:"##addOns.title.pageTitle##"}),pathname:g})),Qn("div",{"aria-live":"assertive","aria-relevant":"all"},void 0,Qn(a.a,{activeReservations:d,shouldDisplayInvalidAddOnWarning:ce,shouldDisplayRemovedOffersWarning:de}),Qn(S.a,{condition:ge&&"noAvailability"===be&&_.some(d,(function(e){return _.includes(he,e.CrsConfirmationNumber)}))},void 0,Qn(C.a,{messageType:"warning",needsBox:!0,messages:[Qn(FormattedMessage,{id:"confirmReservations.error.selectionNotAvailable"},"selectionNotAvailable"),Qn(FormattedMessage,{id:"confirmReservations.error.pleaseRevise",values:{edit:Oe}},"pleaseRevise")],withFocusableElements:!0})),Qn(S.a,{condition:!_.isEmpty(fe)},void 0,this.getPageLevelMessage(fe))),!!_.size(d)&&Qn("div",{},void 0,Qn(S.a,{condition:q},void 0,this.state.isSipComponentLoaded&&Qn(t,{initialOffers:U,iwmCurrencyExchange:Q,iwmDecimal:G})),Qn(S.a,{condition:!this.props.activateSIP},void 0,Qn("div",{},void 0,h&&Qn(Nn,{activeAddOnsAll:R,activeReservation:X,addOns:[se],addPackagesToReservation:$,avcurrency:c,categories:l,modifyPackagesOnReservation:H,packageList:v,removePackageFromReservation:Y,selectedCurrency:I,sendClickAddOnOrdDetailsClickDataTracking:V,showPricingInclusiveOfTax:ve,styles:Wn.a,isRequiredPackageInReservation:!1,criteria:F,isConfirmationAddOn:!0,appEnv:i,updateReservationInProgress:f}),!!_.size(J)&&Qn(Nn,{activeAddOnsAll:R,activeReservation:X,addOns:J,addPackagesToReservation:$,avcurrency:c,categories:l,packageList:v,isRequired:!0,modifyPackagesOnReservation:H,removePackageFromReservation:Y,selectedCurrency:I,sendClickAddOnOrdDetailsClickDataTracking:V,showCategoryName:!0,showPricingInclusiveOfTax:ve,styles:Wn.a,isRequiredPackageInReservation:Z,criteria:F,requiredPackagesPreselected:L,appEnv:i,updateReservationInProgress:f}),!!_.size(ee)&&Qn(Nn,{activeAddOnsAll:R,activeReservation:X,addOns:ee,addPackagesToReservation:$,avcurrency:c,categories:l,modifyPackagesOnReservation:H,packageList:v,removePackageFromReservation:Y,selectedCurrency:I,sendClickAddOnOrdDetailsClickDataTracking:V,showCategoryName:!0,showPricingInclusiveOfTax:ve,styles:Wn.a,isRequiredPackageInReservation:Z,criteria:F,appEnv:i,updateReservationInProgress:f})))),Qn("div",{className:Wn.a.bottomContinue},void 0,Qn(o.a,{className:"btn",colorClassName:"primary",sizeClassName:"md",disabled:ye,processing:f,enableSpinner:!0,onClick:this._onContinueClick},void 0,Qn(FormattedMessage,ie||m?{id:"AddOnsMessageList.button.continueToBook"}:{id:"addOnsContainer.button.continueToRoom",values:{num:oe+1}}))),Qn(P.a,{oneButton:!0,fullWidth:!0,buttonRight:Qn(o.a,{className:"btn",colorClassName:"primary",sizeClassName:"sm",disabled:ye,processing:f,enableSpinner:!0,onClick:this._onContinueClick},void 0,Qn(FormattedMessage,ie||m?{id:"AddOnsMessageList.button.mobileContinue"}:{id:"addOnsContainer.button.mobileContinueToRoom",values:{num:oe+1}}))}))),Qn(s.a,{domElementThatShouldNotOverlap:Object(x.F)()},void 0,Qn("div",{className:Wn.a.rightContinue},void 0,Qn(o.a,{className:"btn",colorClassName:"primary",sizeClassName:"md",disabled:ye,blockClassName:"block",processing:f,enableSpinner:!0,onClick:this._onContinueClick},void 0,Qn(FormattedMessage,ie||m?{id:"AddOnsMessageList.button.continueToBook"}:{id:"addOnsContainer.button.continueToRoom",values:{num:oe+1}})))))))}},{key:"_getPageLevelError",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=e.reservationAddOnResumeFailure,a=Object(Bn.d)(e),s=Object(A.D)(t),c=Object(A.D)(n);return c?{message:"bookingSummaryReservations.text.bookingIncludesMandatoryPackage",headerMessage:"bookingSummaryReservations.text.bookingIncludesMandatoryPackageHeader",type:N.tc.ERROR}:a&&!Object(Bn.e)(a)?{message:"bookingSummaryReservations.text.roomCannotBeModified",type:N.tc.ERROR}:i&&(s||r)?{headerMessage:"cart.text.weRemovedTheExtras",message:"cart.text.addItemsAgain",type:N.tc.WARNING}:o?{message:"addOnsContainer.warning.resumeAddOnFailedHeader",type:N.tc.WARNING}:{}}},{key:"getPageLevelMessage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_.isEmpty(e))return null;var t=e.headerMessage,n=e.message,r=e.type;if(t){var i=Qn(FormattedMessage,{id:t}),o=Qn(FormattedMessage,{id:n});return Qn(C.a,{messageType:r,messages:[i,o],needsBox:!0})}return Qn(C.a,{messageType:r,messages:Qn(FormattedMessage,{id:n}),needsBox:!0})}},{key:"_filteredAddOns",value:function(){var e=this.props,t=e.PackageList,n=e.loggedInUserProfile;if(e.isSIPActivated)return[];var r=t,i=Object(Fn.A)(n);return t&&!i&&(r=t.filter((function(e){return!e.isPointsOnly}))),this._getAddOnsAvailableForSearchCriteria(r)||[]}},{key:"_getAddOnsAvailableForSearchCriteria",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=this.props.activeReservation,n=_.get(t,"Occupancy.AdultCount",0)+_.get(t,"Occupancy.ChildCount",0);return e.reduce((function(e,t){return t.quantityRequestUpperLimit<n&&t.chargeType===N.Bc.PER_OCCUPANCY_TYPE||e.push(t),e}),[])}},{key:"getLastUpdatedOfferMessage",value:function(){var e=this.props,t=e.intl.formatNumber,n=e.configData.showPricingInclusiveOfTax,r=e.selectedCurrency,i=e.iwmCurrencyExchange,o=e.lastUpdatedOffer,a=void 0===o?{}:o,s=e.iwmDecimal;if(_.isEmpty(a))return null;var c=_.get(a,"Name",""),d=_.get(a,"Price.CurrencyCode",""),l=_.get(a,"Price.TotalAmount",0),u=_.get(a,"Price.TotalAmountIncludingTaxesFees",0),f=n?u:l,p=t(f,Object(k.a)({originalCurrency:d,selectedCurrency:r,displayCurrency:r,forCalendarPrice:!1,iwmDecimal:s,isShoppingPriceAmount:!1,iwmCurrencyExchange:i,configData:{showDetailedPriceAmount:N.Xc.DECIMALS},value:f,intl:{formatNumber:t}}));return Qn(C.a,{messageType:N.tc.SUCCESS,isToastPage:!0,isAutoHide:!0,close:this.onToastMessageClose,messages:[Qn(FormattedMessage,{id:"addOnsContainer.text.itemUpdated"}),Qn(FormattedMessage,{id:"addOnsContainer.text.updatedItemInfo",values:{name:c,totalAmount:p}})]})}},{key:"_onToastMessageClose",value:function(){this.props.actions.setLastUpdatedOffer(null)}}])&&Hn(t.prototype,r),i&&Hn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),d}())||Tn)||Tn)||Tn;Zn.defaultProps={selectorProps:{hotelAvailabilityContainerSelector:["selectedHotel"]}}}}]);